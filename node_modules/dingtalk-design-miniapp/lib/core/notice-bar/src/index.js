"use strict";

Component({
  mixins: [],
  data: {
    $uiName: 'notice-bar',
    showNotice: true
  },
  props: {
    style: '',
    className: '',
    type: 'info',
    // ['info', 'warn','error'] 兼容mini-ddui
    value: '',
    iconType: '',
    isCloseable: false,
    onTap: null,
    onClose: null,
    onDmTap: null,
    onDmClose: null
  },
  didMount: function didMount() {},
  didUpdate: function didUpdate() {},
  didUnmount: function didUnmount() {},
  methods: {
    onItemTap: function onItemTap(e) {
      var _this$props = this.props,
        onTap = _this$props.onTap,
        onDmTap = _this$props.onDmTap;
      if (onTap) {
        onTap(e);
      } else if (onDmTap) {
        onDmTap(e, this);
      }
    },
    onCloseTap: function onCloseTap(e) {
      var _this$props2 = this.props,
        onClose = _this$props2.onClose,
        isCloseable = _this$props2.isCloseable,
        onDmClose = _this$props2.onDmClose;
      if (!isCloseable) {
        return;
      }
      if (this.data.showNotice) {
        this.setData({
          showNotice: false
        });
      }
      if (onClose) {
        onClose(e);
      } else if (onDmClose) {
        onDmClose(e, this);
      }
    }
  }
});