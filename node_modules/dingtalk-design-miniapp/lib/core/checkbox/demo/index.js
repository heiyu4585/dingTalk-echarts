"use strict";

Page({
  data: {
    checked2: true,
    allChecked: false,
    indeterminate: true,
    checkedArr: [false, true, false]
  },
  onLoad: function onLoad() {},
  onAllChange: function onAllChange() {
    var _this$data = this.data,
      checkedArr = _this$data.checkedArr,
      allChecked = _this$data.allChecked;
    var newArr = checkedArr.map(function (item) {
      return item = !allChecked;
    });
    this.setData({
      checkedArr: newArr,
      allChecked: !allChecked,
      indeterminate: false
    });
  },
  onChange: function onChange(e) {
    var checkedArr = this.data.checkedArr;
    checkedArr[e] = !checkedArr[e];
    var allChecked = checkedArr.every(function (item) {
      return item;
    });
    var semiChecked = checkedArr.some(function (item) {
      return item;
    });
    this.setData({
      checkedArr: checkedArr,
      allChecked: allChecked,
      indeterminate: semiChecked && !allChecked
    });
  }
});