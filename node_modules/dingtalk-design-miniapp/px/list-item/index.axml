<view
  class="dtm-list-item {{className}} {{hoverClass !== 'none' ? '' : 'hover-none'}}"
  style="{{style}}"
  data-id="{{id}}"
  data-dmId="{{dmId}}"
  onTap="onItemTap"
>
  <view class="dtm-list-item-content">
    <icon
      type="required"
      a:if="{{required}}"
      className="dtm-list-item-required"
    />
    <slot name="left"></slot>

    <!-- thumb -->
    <block a:if="{{onDmThumbCatchClick!==null || onThumbCatchTap !== null}}">
      <view
        a:if="{{($slots.thumb || thumbClassName || thumbUrl || thumbContent || hasAvatar) && !checkable}}"
        class="dtm-list-item-thumb-wrapper {{thumbVTop ? 'thumbVTop' : ''}} "
        data-dmId="{{dmId}}"
        data-id="{{id}}"
        catchTap="onItemThumbCatchTap"
      >
        <slot name="thumb">
          <open-avatar
            a:if="{{hasAvatar}}"
            uid="{{avatarInfo.uid}}"
            openId="{{avatarInfo.openId}}"
            userId="{{avatarInfo.userId}}"
            nickName="{{avatarInfo.nickName}}"
            avatar="{{avatarInfo.avatar}}"
            size="{{avatarInfo.size}}"
            shape="{{avatarInfo.shape}}"
          />
          <view
            a:elif="{{thumbClassName || thumbUrl}}"
            class="dtm-list-item-thumb {{thumbSize}} {{thumbType}} {{thumbClassName ? thumbClassName : 'default'}}"
            style="backgroundImage: url({{thumbUrl}});"
          ></view>
        </slot>
      </view>
    </block>
    <block a:else>
      <view
        a:if="{{($slots.thumb || thumbClassName || thumbUrl || thumbContent || hasAvatar) && !checkable}}"
        class="dtm-list-item-thumb-wrapper  {{thumbVTop ? 'thumbVTop' : ''}} "
        data-dmId="{{dmId}}"
        data-id="{{id}}"
        data-type="thumb"
        onTap="onItemThumbTap"
      >
        <slot name="thumb">
          <open-avatar
            a:if="{{hasAvatar}}"
            uid="{{avatarInfo.uid}}"
            openId="{{avatarInfo.openId}}"
            userId="{{avatarInfo.userId}}"
            nickName="{{avatarInfo.nickName}}"
            avatar="{{avatarInfo.avatar}}"
            size="{{avatarInfo.size}}"
            shape="{{avatarInfo.shape}}"
          />
          <view
            a:elif="{{thumbClassName || thumbUrl}}"
            class="dtm-list-item-thumb {{thumbSize}} {{thumbType}} {{thumbClassName ? thumbClassName : 'default'}}"
            style="backgroundImage: url({{thumbUrl}});"
          ></view>
        </slot>
      </view>
    </block>
  
    <!-- 主要内容区域 -->
    <view class="dtm-list-item-main {{thumbSize == 'large' ? 'large' : ''}} {{ !noborder && (hasAvatar || $slots.thumb) ? 'border': ''}}">
      <!-- 单选框 -->
      <view
        a:if="{{checkable}}"
        class="dtm-list-item-checkbox-wrapper"
      >
        <checkbox
          disabled="{{disabled}}"
          isChecked="{{checked}}"
          indeterminate="{{indeterminate}}"
        />
      </view>
      <block a:if="{{onDmThumbCatchClick !== null || onThumbCatchTap !== null}}">
        <view
          a:if="{{($slots.thumb || thumbClassName || thumbUrl || thumbContent  || hasAvatar) && checkable}}"
          class="dtm-list-item-thumb-wrapper {{thumbVTop ? 'thumbVTop' : ''}} "
          data-dmId="{{dmId}}"
          data-id="{{id}}"
          data-type="thumb"
          catchTap="onItemThumbCatchTap"
        >
          <slot name="thumb">
            <open-avatar
              a:if="{{hasAvatar}}"
              uid="{{avatarInfo.uid}}"
              openId="{{avatarInfo.openId}}"
              userId="{{avatarInfo.userId}}"
              nickName="{{avatarInfo.nickName}}"
              avatar="{{avatarInfo.avatar}}"
              size="{{avatarInfo.size}}"
              shape="{{avatarInfo.shape}}"
            />
            <view
              a:elif="{{thumbClassName || thumbUrl}}"
              class="dtm-list-item-thumb {{thumbSize}} {{thumbType}} {{thumbClassName ? thumbClassName : 'default'}}"
              style="backgroundImage: url({{thumbUrl}});"
            ></view>
          </slot>
        </view>
      </block>
      <block a:else>
        <view
          a:if="{{($slots.thumb || thumbClassName || thumbUrl || thumbContent  || hasAvatar) && checkable}}"
          class="dtm-list-item-thumb-wrapper {{thumbVTop ? 'dtm-list-item-thumb-valign-top' : ''}} "
          data-dmId="{{dmId}}"
          data-id="{{id}}"
          data-type="thumb"
          onTap="onItemThumbTap"
        >
          <slot name="thumb">
            <open-avatar
              a:if="{{hasAvatar}}"
              uid="{{avatarInfo.uid}}"
              openId="{{avatarInfo.openId}}"
              userId="{{avatarInfo.userId}}"
              nickName="{{avatarInfo.nickName}}"
              avatar="{{avatarInfo.avatar}}"
              size="{{avatarInfo.size}}"
              shape="{{avatarInfo.shape}}"
            />
            <view
              a:elif="{{thumbClassName || thumbUrl}}"
              class="dtm-list-item-thumb {{thumbSize}} {{thumbType}} {{thumbClassName ? thumbClassName : 'default'}}"
              style="backgroundImage: url({{thumbUrl}});"
            ></view>
          </slot>
        </view>
      </block>
      <block a:if="{{onDmContentCatchClick!==null || onContentCatchTap !== null}}">
        <view
          class="dtm-list-item-main-content {{briefList.length  > 0 ?'multi-text' : ''}}"
          data-dmId="{{dmId}}"
          data-id="{{id}}"
          data-type="content"
          catchTap="onItemContentCatchTap"
        >
          <view
            class="dtm-list-item-caption {{briefList.length < 1 ?'dtm-list-item-caption-placeholder':''}} {{captionClassName}} {{disabled ? 'disabled' : ''}}"
          >
            <slot></slot>
          </view>
          <view class="dtm-list-item-brief {{briefClassName}}">
            <slot name="brief">
              <view
                a:for="{{briefList}}"
                class="dtm-list-item-brief-item {{item.className || ''}} {{briefList.length <= 1 ? 'dtm-list-item-brief-no-margin' : ''}}"
                style="{{item.style || ''}}"
              >{{item.text}}</view>
            </slot>
          </view>
        </view>
      </block>
      <block a:else>
        <view
          class="dtm-list-item-main-content {{briefList.length  > 0 ?'multi-text' : ''}}"
          data-dmId="{{dmId}}"
          data-id="{{id}}"
          data-type="content"
          onTap="onItemContentTap"
        >
          <view
            class="dtm-list-item-caption {{briefList.length < 1 ?'dtm-list-item-caption-placeholder' : 'multi-text'}} {{captionClassName}} {{disabled ? 'disabled':''}}"
          >
            <slot></slot>
          </view>
          <view class="dtm-list-item-brief {{briefClassName}}">
            <slot name="brief">
              <view
                a:for="{{briefList}}"
                class="dtm-list-item-brief-item {{item.className || ''}} {{briefList.length <= 1 ? 'dtm-list-item-brief-no-margin' : ''}}"
                style="{{item.style || ''}}"
              >{{item.text}}</view>
            </slot>
          </view>
        </view>
      </block>
      
      <view
        class="dtm-list-item-extra {{extraClassName}} {{extraVTop ? 'dtm-list-item-extra-valign-top' : ''}}"
      >
        <slot name="extra">
          <text class="dtm-list-item-extra-text {{disabled ? 'disabled': ''}}">{{extraText}}</text>
        </slot>
      </view>
      <view
        a:if="{{badgeShow}}"
        class="dtm-list-item-badge"
      >
        <badge
          show="{{true}}"
          text="{{badgeText}}"
        />
      </view>
      <block a:if="{{onArrowCatchTap !== null || onDmArrowCatchClick !== null}}">
        <view
          a:if="{{arrowType || arrowClassName}}"
          class="dtm-list-item-wrapper-arrow {{badgeShow?'width-badge': ''}}"
          data-dmId="{{dmId}}"
          data-id="{{id}}"
          catchTap="onItemArrowCatchTap"
        >
          <icon
            size="{{arrowSize}}"
            className="{{arrowClassName}}"
            type="{{arrowType}}"
          />
        </view>
      </block>
      <block a:else>
        <view
          a:if="{{arrowType || arrowClassName}}"
          class="dtm-list-item-wrapper-arrow"
          data-dmId="{{dmId}}"
          data-id="{{id}}"
          data-type="arrow"
          onTap="onItemArrowTap"
        >
          <icon
            size="{{arrowSize}}"
            className="{{arrowClassName}}"
            type="{{arrowType}}"
          />
        </view>
      </block>
    </view>
  </view>
  <view class="dtm-list-item-error" a:if="{{errorText}}">{{errorText}}</view>
  <view
    a:if="{{!hasAvatar && !$slots.thumb && (!noborder || hasborder)}}"
    class="dtm-list-item-border {{hasborder ? 'hasborder': ''}} {{checkable ? 'b-s': ''}}"
  ></view>
</view>