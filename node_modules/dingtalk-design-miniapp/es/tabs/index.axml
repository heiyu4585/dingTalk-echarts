<scroll-view
  a:if="{{!fixed}}"
  id="dtm-tabs-bar-content-{{tabId}}"
  class="dtm-tabs {{(widthType !== null? (widthType === 'auto'): !fullWidth) ? 'dtm-tabs-auto-width': ''}} {{className}}"
  style="{{style}}"
  scroll-x="{{true}}"
  scroll-with-animation="{{scrollAnimation}}"
  scroll-left="{{viewScrollLeft}}"
>
  <view class="dtm-tabs-flex" id="dtm-tabs-wrap-{{tabId}}">
    <view
      a:for="{{tabs && tabs.length ? tabs : texts}}"
      data-index="{{index}}"
      data-disabled="{{item.disabled}}"
      id="dtm-tabs-item-{{tabId}}-{{index}}"
      key="dtm-tabs-item-{{index}}"
      class="dtm-tabs-item dtm-tabs-item-{{tabId}} {{index === activeIndex?'dtm-tabs-item-active':''}} {{item.disabled ?'dtm-tabs-item-disabled':''}} {{itemClassName}}"
      onTap="onItemTap"
    >
      <view class="dtm-tabs-item-inner">
        <badge className="dtm-tabs-item-badge" a:if="{{item.hasBadge}}" text="{{item.badgeText}}">
          <view class="dtm-tabs-item-inner-text">{{item.title || item}}</view>
        </badge>
        <view class="dtm-tabs-item-inner-text" a:else>{{item.title || item}}</view>
      </view>

      <view
        a:if="{{ (widthType !== null? (widthType === 'auto') : !fullWidth) &&  index === activeIndex }}"
        class="dtm-tabs-item-active-bottom"
      ></view>
    </view>
    <view a:if="{{(widthType !== null ? (widthType !== 'auto') : fullWidth) && left !== null}}" class="dtm-tabs-ink-bar" style="left:{{left}}px;"></view>
  </view>
</scroll-view>

<view a:if="{{fixed}}" class="dtm-tabs fixed">
  <view class="dtm-tab-bar-content-wrap" id="dtm-tabs-wrap-{{tabId}}">
    <view
      a:for="{{tabs && tabs.length ? tabs : texts}}"
      data-index="{{index}}"
      data-disabled="{{item.disabled}}"
      id="dtm-tabs-item-{{tabId}}-{{index}}"
      key="dtm-tabs-item-{{index}}"
      class="dtm-tabs-item {{index === activeIndex?'dtm-tabs-item-active':''}} {{item.disabled ?'dtm-tabs-item-disabled':''}} {{itemClassName}}"
      onTap="onItemTap"
    >
      <view class="dtm-tabs-item-inner">
        <badge className="dtm-tabs-item-badge" a:if="{{item.hasBadge}}" text="{{item.badgeText}}">
          <view class="dtm-tabs-item-inner-text">{{item.title || item}}</view>
        </badge>
        <view class="dtm-tabs-item-inner-text" a:else>{{item.title || item}}</view>
      </view>

      <view
        a:if="{{ (widthType !== null? (widthType === 'auto') : !fullWidth) &&  index === activeIndex }}"
        class="dtm-tabs-item-active-bottom"
      ></view>
    </view>
    <view a:if="{{(widthType !== null ? (widthType !== 'auto') : fullWidth) && left !== null}}" class="dtm-tabs-ink-bar" style="left:{{left}}px;"></view>
  </view>
</view>

<view  a:if={{$slots.$default}}>
  <swiper
    a:if="{{swipeable}}"
    circular="{{false}}"
    current="{{activeIndex}}"
    interval="99999999"
    autoplay="{{false}}"
    onChange="handleSwiperChange"
    class="dtm-tabs-content-swiper-wrap"
    duration="{{duration}}"
  >
    <slot></slot>
  </swiper>
  <view a:else class="dtm-tabs-content-wrap fix">
    <view class="dtm-tabs-slides" style="transform: translate3d({{(-activeIndex * 100)}}vw, 0, 0);transition-duration: {{duration}}ms; }}">
      <slot></slot>
    </view>
  </view>
</view>
